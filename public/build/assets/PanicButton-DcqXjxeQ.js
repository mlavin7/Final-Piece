import{i as f,_ as h,j as p,o as r,c as l,a as o,g as d,n as P,k as m,t as i,F as g,p as _,f as T}from"./app-Cavx3ZMY.js";const w="/build/assets/alarm--rDo3Mqy.wav",y=f("panic",{state:()=>({alarmActive:!1}),actions:{activateAlarm(){this.alarmActive=!0},deactivateAlarm(){this.alarmActive=!1}},getters:{isAlarmActive:t=>t.alarmActive}}),{activateAlarm:S,deactivateAlarm:b}=y(),I={name:"PanicButton",setup(t){const e=p(!1),c=p(null),s=p(!1);let a=null;return{pressing:e,startPress:()=>{a||(a=new Audio(w)),e.value=!0,a.loop=!0,c.value=setTimeout(()=>{a.play().catch(A=>console.error("Error playing the sound:",A)),s.value=!0,S()},3e3)},stopPress:()=>{e.value&&(clearTimeout(c.value),e.value=!1)},muteAlarm:()=>{a&&(a.loop=!1,a.pause(),a.currentTime=0,s.value=!1,b())},showPopup:s}}},u=t=>(_("data-v-030cc984"),t=t(),T(),t),k={key:0,class:"googleMap"},C=u(()=>o("iframe",{width:"100%",height:"30vh",style:{border:"0"},loading:"lazy",allowfullscreen:"",referrerpolicy:"no-referrer-when-downgrade",src:"https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyAPhjvuG5MJ4g2SWvy8bs_Jr4Wb2IslBvo"},null,-1)),E=u(()=>o("a",{href:"tel:1777"}," 177",-1)),B=[E],N={class:"panic"},V={class:"panic-button-container"},D={key:0},F=u(()=>o("br",null,null,-1)),O={key:1},R=u(()=>o("br",null,null,-1)),$={key:0,class:"popup"};function z(t,e,c,s,a,v){return r(),l(g,null,[s.showPopup?(r(),l("div",k,[C,o("button",{onClick:e[0]||(e[0]=()=>{})},B)])):d("",!0),o("div",N,[o("div",V,[o("button",{onTouchstart:e[1]||(e[1]=n=>s.startPress()),onTouchend:e[2]||(e[2]=n=>s.stopPress()),onTouchcancel:e[3]||(e[3]=n=>s.stopPress()),onTouch:e[4]||(e[4]=n=>s.muteAlarm()),class:P(["panic-button",{active:s.pressing}])},[s.showPopup?(r(),l("span",O,[m(i(t.$t("PANIC!"))+" ",1),R,o("p",null,i(t.$t("PRESS TWICE FOR DEACTIVATE")),1)])):(r(),l("span",D,[m(i(t.$t("PANIC!"))+" ",1),F,o("p",null,i(t.$t("PRESS FOR 3 SECOND TO ACTIVATE")),1)]))],34),s.showPopup?(r(),l("div",$,[o("button",{onClick:e[5]||(e[5]=(...n)=>t.unmuteAlarm&&t.unmuteAlarm(...n))},"Unmute")])):d("",!0)])])],64)}const j=h(I,[["render",z],["__scopeId","data-v-030cc984"]]);export{j as P,y as u};
